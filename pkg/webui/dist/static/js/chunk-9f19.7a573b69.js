(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9f19"],{BBXM:function(t,a,o){"use strict";o.r(a);var e=o("LuOy"),c=o.n(e);for(var s in e)"default"!==s&&function(t){o.d(a,t,function(){return e[t]})}(s);a.default=c.a},LuOy:function(t,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=o("wk8/");a.default={data:function(){return{form:{code:""},accountInfo:[],state:!0}},mounted:function(){this.getAccountInfo()},methods:{showGa:function(){this.$alert('<div class="qr-modal"><div class="qr-image-goog-auth"></div><p class="qr-tip">扫描二维码，立即下载</p></div>',"下载谷歌身份验证器",{dangerouslyUseHTMLString:!0})},getAccountInfo:function(){var t=this;(0,e.security)().then(function(a){t.accountInfo=a.data.result})},onSubmit:function(){var t=this;(0,e.bindcode)({google_2fa_token:this.form.code}).then(function(a){return 200===a.code?(t.$message("绑定成功"),void location.reload()):void t.$message("绑定失败！")})},onClose:function(){var t=this;(0,e.close2fa)({google_2fa_token:this.form.code}).then(function(a){return 200===a.code?(t.$message("关闭成功"),void location.reload()):void t.$message("关闭失败！")})},changeState:function(){this.state=!this.state}}}},MUvs:function(t,a,o){"use strict";var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return 0===t.accountInfo.is_open?o("div",[o("div",{staticClass:"card twofactor-manager"},[o("div",{staticClass:"card-header"},[o("h4",{staticClass:"card-title"},[t._v("两步验证")]),t._v(" "),o("div",{staticClass:"card-tip"},[o("p",[t._v("要开启二步验证，您需要先安装 "),o("a",{staticClass:"qr-modal",attrs:{href:"javascript:"},on:{click:t.showGa}},[t._v("谷歌身份验证器")]),t._v("；")])])]),t._v(" "),o("div",{staticClass:"card-content with-border"},[o("div",{staticClass:"twofactor-bind"},[o("div",{staticClass:"twofactor-qrcode"},[o("img",{staticClass:"avatar",attrs:{src:t.accountInfo.code}})]),t._v(" "),o("div",{staticClass:"bind-validator is-bfc"},[o("div",{staticClass:"form-inline input-button"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[o("el-input",{staticClass:"bind-validator-code",attrs:{placeholder:"验证码"},model:{value:t.form.code,callback:function(a){t.$set(t.form,"code",a)},expression:"form.code"}}),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即绑定")])],1)],1),t._v(" "),o("div",{staticClass:"card-tip"},[t._v("用身份验证器扫描左边的二维码，即可获得验证码")])])]),t._v(" "),o("div",{staticClass:"twofactor-account-info"},[o("h4",[t._v("帐户信息")]),t._v(" "),o("div",{staticClass:"card-tip"},[t._v("若扫描二维码失败，您可以在您的身份验证器中输入以下帐户信息。")]),t._v(" "),o("div",{staticClass:"form-account-info"},[o("el-form",{attrs:{model:t.form,"label-width":"200px"}},[o("el-form-item",{attrs:{"label-width":"100px",label:"帐户名称"}},[o("el-input",{attrs:{disabled:!0,placeholder:t.accountInfo.account},model:{value:t.form.account,callback:function(a){t.$set(t.form,"account",a)},expression:"form.account"}})],1),t._v(" "),o("el-form-item",{attrs:{"label-width":"100px",label:"密钥"}},[o("el-input",{attrs:{disabled:!0,placeholder:t.accountInfo.secret},model:{value:t.form.account,callback:function(a){t.$set(t.form,"account",a)},expression:"form.account"}})],1),t._v(" "),o("el-form-item",{attrs:{"label-width":"100px",label:"算法"}},[o("el-input",{attrs:{disabled:!0,placeholder:"基于时间"},model:{value:t.form.account,callback:function(a){t.$set(t.form,"account",a)},expression:"form.account"}})],1)],1)],1)])])])]):o("div",{staticClass:"filter-container"},[o("h4",{staticClass:"margin-resp-bottom"},[t._v("您已经开启了两步验证")]),t._v(" "),o("el-form",{staticClass:"filter-item",attrs:{model:t.form}},[!0===t.state?o("el-row",[o("el-button",{attrs:{type:"danger"},on:{click:t.changeState}},[t._v("关闭")])],1):o("el-row",[o("el-input",{staticClass:"filter-item",attrs:{placeholder:"输入身份验证器中的验证码"},model:{value:t.form.code,callback:function(a){t.$set(t.form,"code",a)},expression:"form.code"}}),t._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{display:"inline-block"},attrs:{type:"danger"},on:{click:t.onClose}},[t._v("确认关闭")])],1)],1)],1)},c=[];o.d(a,"a",function(){return e}),o.d(a,"b",function(){return c})},ShQM:function(t,a,o){},Z1jb:function(t,a,o){"use strict";o.r(a);var e=o("MUvs"),c=o("BBXM");for(var s in c)"default"!==s&&function(t){o.d(a,t,function(){return c[t]})}(s);o("uU0o"),o("ois1");var i=o("KHd+"),n=Object(i.a)(c.default,e.a,e.b,!1,null,"d30069b0",null);n.options.__file="security.vue",a.default=n.exports},ZdgN:function(t,a,o){},ois1:function(t,a,o){"use strict";var e=o("ShQM");o.n(e).a},uU0o:function(t,a,o){"use strict";var e=o("ZdgN");o.n(e).a}}]);